{"version":3,"sources":["../../src/pages/profileimage/profileimage.module.ts","../../src/pages/profileimage/profileimage.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProfileImagePage } from './profileimage';\n\n@NgModule({\n  declarations: [\n    ProfileImagePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProfileImagePage),\n  ],\n  exports: [\n    ProfileImagePage\n  ]\n})\nexport class ProfileImagePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profileimage/profileimage.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavParams, ViewController, LoadingController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { HttpClient } from '@angular/common/http';\nimport 'rxjs/add/operator/map';\nimport { Database } from './../../providers/database/database';\nimport { Localstorage } from './../../providers/localstorage/localstorage';\nimport { Camera, CameraOptions } from '@ionic-native/camera';\nimport { Observable } from 'rxjs/Observable';\nimport { normalizeURL } from 'ionic-angular';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-profileimage',\n  templateUrl: 'profileimage.html',\n})\nexport class ProfileImagePage {\n\n\tpublic ProfileImageAttachment: string;\n\tpublic deviceButtons: boolean;\n\tpublic browserButtons: boolean;\n\t\n\tconstructor(private navParams: NavParams, \n\t\t\t\tprivate storage: Storage,\n\t\t\t\tprivate databaseprovider: Database,\n\t\t\t\tprivate view: ViewController,\n\t\t\t\tpublic loadingCtrl: LoadingController,\n\t\t\t\tpublic http: HttpClient,\n\t\t\t\tprivate camera: Camera,\n\t\t\t\tpublic _DomSanitizer: DomSanitizer,\n\t\t\t\tprivate localstorage: Localstorage) {\n\t\t\t\t\n\t}\n\n\taddCameraImage() {\n\t\t\n\t\tconst options: CameraOptions = {\n\t\t\tquality: 80,\n\t\t\tdestinationType: this.camera.DestinationType.DATA_URL,\n\t\t\tencodingType: this.camera.EncodingType.JPEG,\n\t\t\tcorrectOrientation:true,\n\t\t\tallowEdit: true,\n\t\t\tmediaType: this.camera.MediaType.PICTURE\n\t\t}\n\n\t\tthis.camera.getPicture(options).then((imageData) => {\n\t\t\t// imageData is either a base64 encoded string or a file URI\n\t\t\t// If it's base64:\n\t\t\tconsole.log('Camera image');\n\t\t\t//let base64Image = 'data:image/jpeg;base64,' + imageData;\n\t\t\t//this.ProfileImageAttachment = base64Image;\n\t\t\tthis.ProfileImageAttachment = 'data:image/jpeg;base64,' + imageData;\n\t\t\t\n\t\t}, (err) => {\n\t\t\t// Handle error\n\t\t\tconsole.log('Camera error');\n\t\t});\n\n\t}\n\t\n\taddGalleryImage() {\n\t\t\n\t\tconst options: CameraOptions = {\n\t\t\tquality: 80,\n\t\t\tdestinationType: this.camera.DestinationType.DATA_URL,\n\t\t\tencodingType: this.camera.EncodingType.JPEG,\n\t\t\tmediaType: this.camera.MediaType.PICTURE,\n\t\t\tcorrectOrientation:true,\n\t\t\tallowEdit: true,\n\t\t\tsourceType: this.camera.PictureSourceType.PHOTOLIBRARY\n\t\t}\n\n\t\tthis.camera.getPicture(options).then((imageData) => {\n\t\t\t// imageData is either a base64 encoded string or a file URI\n\t\t\t// If it's base64:\n\t\t\tconsole.log('Camera image');\n\t\t\tthis.ProfileImageAttachment = 'data:image/jpeg;base64,' + imageData;\n\t\t\t\n\t\t}, (err) => {\n\t\t\t// Handle error\n\t\t\tconsole.log('Camera error');\n\t\t});\n\n\t}\n\t\n\tionViewDidEnter() {\n\n\t\tvar DevicePlatform = this.localstorage.getLocalValue('DevicePlatform');\n\t\t\n\t\t// Disable access to camera and gallery buttons when running in a browser\n\t\t// until the ability to pull an image via the browser can be implemented\n\t\tif (DevicePlatform == 'Browser') {\n\t\t\tconsole.log('Browser button settings');\n\t\t\tthis.deviceButtons = false;\n\t\t\tthis.browserButtons = true;\n\t\t} else {\n\t\t\tconsole.log('Device button settings');\n\t\t\tthis.deviceButtons = true;\n\t\t\tthis.browserButtons = false;\n\t\t}\n\t\t\n\n\t}\n\t\n\tcloseModal(UserAction) {\n\t\t\n\t\tvar AttendeeID = this.localstorage.getLocalValue('AttendeeID');\n\n\t\tif (UserAction == \"Save\") {\n\n\t\t\t// Load initial data set here\n\t\t\tlet loading = this.loadingCtrl.create({\n\t\t\t\tspinner: 'crescent',\n\t\t\t\tcontent: 'Saving your profile image...'\n\t\t\t});\n\n\t\t\tloading.present();\n\n\t\t\tvar NewFilename = AttendeeID;\n\t\t\tconsole.log('New filename: ' + NewFilename);\n\t\t\t\t\t\t\n\t\t\tlet url = 'https://naeyc.convergence-us.com/AdminGateway/image_uploader.php';\n\t\t\tlet postData = new FormData();\n\t\t\tpostData.append('file', this.ProfileImageAttachment);\n\t\t\tpostData.append('location', 'Attendees');\n\t\t\tpostData.append('filename', NewFilename);\n\t\t\tpostData.append('AttendeeID', AttendeeID);\n\t\t\t\n\t\t\tlet data:Observable<any> = this.http.post(url, postData);\n\t\t\t\n\t\t\tdata.subscribe((result) => {\n\t\t\t\t\n\t\t\t\tconsole.log(\"Image uploaded: \" + JSON.stringify(result));\n\t\t\t\tloading.dismiss();\n\t\t\t\tthis.view.dismiss(UserAction);\n\n\t\t\t});\n\t\t\t\t\t\t\t\n\t\t}\n\t\t\n\t\tif (UserAction == \"Cancel\") {\n\t\t\tthis.view.dismiss(UserAction);\n\t\t}\n\t\t\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profileimage/profileimage.ts"],"sourceRoot":""}